<div class="card mt-3 ml-3" data-controller="seen-rubit" data-rubit-id="<%= rubit.id %>" id="rubit_<%= rubit.id %>">
  <%= link_to rubit_path(rubit), data: { turbo: false }, class: "card-body d-block text-decoration-none text-dark p-2" do %>
    <h5 class="card-title text-muted" style="font-size: 0.8rem;">
      @<%= rubit.user.username %>
    </h5>
    <p class="card-text"><%= rubit.content %></p>
    <p class="text-muted small mb-0"><%= rubit.created_at.strftime("%b %e, %Y %l:%M %p") %></p>
  <% end %>

  <div class="card-footer bg-transparent border-top-0 d-flex justify-content-between align-items-center p-0 m-0">
    <%= render partial: "likes/like_section", locals: { rubit: rubit } %>
    
    <% if rubit.user == current_user %>
      <%= button_to rubit_path(rubit), method: :delete,
                                       data: { turbo_stream: true, confirm: "Are you sure?" },
                                       class: "btn btn-sm text-dark p-1" do %>
        <i class="bi bi-trash" style="font-size: 1.5rem; color: black;"></i>
      <% end %>
    <% end %>
  </div>
  
  <% if rubit.id == params[:id].to_i %>
    <div id="new_rubit_form_<%= @rubit.id %>">
      <%= render "rubits/form", parent_rubit: rubit %>
    </div>
  <% end %>
  
</div>
